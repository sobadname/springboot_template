package com.tykj.start.repository;

import java.util.List;

import org.springframework.data.domain.Page;
import org.springframework.data.domain.Pageable;
import org.springframework.data.jpa.repository.Query;
import org.springframework.data.repository.Repository;

import com.tykj.start.domain.Test;


public interface TestRepository extends Repository<Test,Long>{

	List<Test> findByName(String name);
	
	@Query(value="select id,name,status from test where name=?1 order by name \n#pageable\n",countQuery="select count(1) from test where name=?1",nativeQuery=true)
	Page<Test> findByNameSql(String name,Pageable page);
	
	@Query("select t.id,t.name,t.status from Test t where t.status<>?")
	Page<Test> findByStatusNotSql(int status,Pageable page);
	
	Page<Test> findByStatusNot(int status,Pageable page);
}
